{
  "library": {
    "annotation": [
      {
        "type": "CqlToElmInfo",
        "translatorVersion": "4.2.0-SNAPSHOT",
        "translatorOptions": "EnableLocators,DisableListDemotion,DisableListPromotion",
        "signatureLevel": "Overloads"
      }
    ],
    "identifier": {
      "id": "Test",
      "version": "0.1.0"
    },
    "schemaIdentifier": {
      "id": "urn:hl7-org:elm",
      "version": "r1"
    },
    "usings": {
      "def": [
        {
          "localIdentifier": "System",
          "uri": "urn:hl7-org:elm-types:r1",
          "annotation": []
        },
        {
          "locator": "3:1-3:26",
          "localIdentifier": "FHIR",
          "uri": "http://hl7.org/fhir",
          "version": "4.0.1",
          "annotation": []
        }
      ]
    },
    "includes": {
      "def": [
        {
          "locator": "5:1-5:35",
          "localIdentifier": "FHIRHelpers",
          "path": "FHIRHelpers",
          "version": "4.0.1",
          "annotation": []
        }
      ]
    },
    "parameters": {
      "def": [
        {
          "locator": "9:1-9:49",
          "name": "Measurement Period",
          "accessLevel": "Public",
          "annotation": [],
          "parameterTypeSpecifier": {
            "type": "IntervalTypeSpecifier",
            "locator": "9:32-9:49",
            "annotation": [],
            "pointType": {
              "type": "NamedTypeSpecifier",
              "locator": "9:41-9:48",
              "name": "{urn:hl7-org:elm-types:r1}DateTime",
              "annotation": []
            }
          }
        }
      ]
    },
    "valueSets": {
      "def": [
        {
          "locator": "7:1-7:100",
          "name": "Encounter Inpatient",
          "id": "http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307",
          "accessLevel": "Public",
          "annotation": [],
          "codeSystem": []
        }
      ]
    },
    "contexts": {
      "def": [
        {
          "locator": "11:1-11:15",
          "name": "Patient",
          "annotation": []
        }
      ]
    },
    "statements": {
      "def": [
        {
          "locator": "11:1-11:15",
          "name": "Patient",
          "context": "Patient",
          "annotation": [],
          "expression": {
            "type": "SingletonFrom",
            "annotation": [],
            "signature": [],
            "operand": {
              "type": "Retrieve",
              "locator": "11:1-11:15",
              "dataType": "{http://hl7.org/fhir}Patient",
              "templateId": "http://hl7.org/fhir/StructureDefinition/Patient",
              "annotation": [],
              "include": [],
              "codeFilter": [],
              "dateFilter": [],
              "otherFilter": []
            }
          }
        },
        {
          "locator": "13:1-16:75",
          "name": "Inpatient Encounter",
          "context": "Patient",
          "accessLevel": "Public",
          "annotation": [],
          "expression": {
            "type": "Query",
            "locator": "14:3-16:75",
            "annotation": [],
            "source": [
              {
                "locator": "14:3-14:55",
                "alias": "EncounterInpatient",
                "annotation": [],
                "expression": {
                  "type": "Retrieve",
                  "locator": "14:3-14:36",
                  "dataType": "{http://hl7.org/fhir}Encounter",
                  "templateId": "http://hl7.org/fhir/StructureDefinition/Encounter",
                  "codeProperty": "type",
                  "codeComparator": "in",
                  "annotation": [],
                  "codes": {
                    "type": "ValueSetRef",
                    "locator": "14:15-14:35",
                    "name": "Encounter Inpatient",
                    "preserve": true,
                    "annotation": []
                  },
                  "include": [],
                  "codeFilter": [],
                  "dateFilter": [],
                  "otherFilter": []
                }
              }
            ],
            "let": [],
            "relationship": [],
            "where": {
              "type": "And",
              "locator": "15:5-16:75",
              "annotation": [],
              "signature": [],
              "operand": [
                {
                  "type": "Equal",
                  "locator": "15:11-15:48",
                  "annotation": [],
                  "signature": [
                    {
                      "type": "NamedTypeSpecifier",
                      "name": "{urn:hl7-org:elm-types:r1}String",
                      "annotation": []
                    },
                    {
                      "type": "NamedTypeSpecifier",
                      "name": "{urn:hl7-org:elm-types:r1}String",
                      "annotation": []
                    }
                  ],
                  "operand": [
                    {
                      "type": "FunctionRef",
                      "name": "ToString",
                      "libraryName": "FHIRHelpers",
                      "annotation": [],
                      "signature": [
                        {
                          "type": "NamedTypeSpecifier",
                          "name": "{http://hl7.org/fhir}EncounterStatus",
                          "annotation": []
                        }
                      ],
                      "operand": [
                        {
                          "type": "Property",
                          "locator": "15:11-15:35",
                          "path": "status",
                          "scope": "EncounterInpatient",
                          "annotation": []
                        }
                      ]
                    },
                    {
                      "type": "Literal",
                      "locator": "15:39-15:48",
                      "valueType": "{urn:hl7-org:elm-types:r1}String",
                      "value": "finished",
                      "annotation": []
                    }
                  ]
                },
                {
                  "type": "In",
                  "locator": "16:11-16:75",
                  "precision": "Day",
                  "annotation": [],
                  "signature": [],
                  "operand": [
                    {
                      "type": "End",
                      "locator": "16:37-16:40",
                      "annotation": [],
                      "signature": [],
                      "operand": {
                        "type": "FunctionRef",
                        "name": "ToInterval",
                        "libraryName": "FHIRHelpers",
                        "annotation": [],
                        "signature": [
                          {
                            "type": "NamedTypeSpecifier",
                            "name": "{http://hl7.org/fhir}Period",
                            "annotation": []
                          }
                        ],
                        "operand": [
                          {
                            "type": "Property",
                            "locator": "16:11-16:35",
                            "path": "period",
                            "scope": "EncounterInpatient",
                            "annotation": []
                          }
                        ]
                      }
                    },
                    {
                      "type": "ParameterRef",
                      "locator": "16:56-16:75",
                      "name": "Measurement Period",
                      "annotation": []
                    }
                  ]
                }
              ]
            }
          }
        }
      ]
    }
  }
}
